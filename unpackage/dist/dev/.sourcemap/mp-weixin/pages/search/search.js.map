{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/hasee/Documents/HBuilderProjects/waste-sorting/pages/search/search.vue?b48f","webpack:///C:/Users/hasee/Documents/HBuilderProjects/waste-sorting/pages/search/search.vue?5b19","webpack:///C:/Users/hasee/Documents/HBuilderProjects/waste-sorting/pages/search/search.vue?f0c9","webpack:///C:/Users/hasee/Documents/HBuilderProjects/waste-sorting/pages/search/search.vue?48a1","uni-app:///pages/search/search.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;;;AAGrD;AAC+L;AAC/L,gBAAgB,wMAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkuB,CAAgB,uvBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACStvB;AACA,MADA,kBACA;AACA;AACA,sBADA;AAEA,6BAFA;AAGA,kBAHA;AAIA,YAJA;AAKA,gBALA;AAMA,mBANA;;AAQA,GAVA;AAWA;AACA;AACA,4BAFA,EAXA;;AAeA,QAfA,oBAeA;AACA;AACA,8DADA;AAEA;AACA,+CADA,EAFA;;AAKA;AACA;AACA;AACA;AACA;AACA,gCADA;;AAGA;AACA;AACA,OAdA;;AAgBA,GAhCA;AAiCA;AACA,eADA,yBACA;AACA;AACA,KAHA;AAIA,gBAJA,wBAIA,EAJA,EAIA;AACA;AACA;AACA,0BADA;AAEA;AACA,kBADA,EAFA;;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,wBAFA;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,OApCA;AAqCA,KA3CA;AA4CA,YA5CA,oBA4CA,IA5CA,EA4CA;AACA;AACA;AACA;AACA,KAhDA;AAiDA,UAjDA,kBAiDA,IAjDA,EAiDA;AACA;AACA,KAnDA,EAjCA,E","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=4cedc0c6&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search/search.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=template&id=4cedc0c6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.7.9.20200527\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<aSearchList :placeholder=\"defaultKw\" :kwList=\"kwList\" :hotKwList=\"hotKwList\" @clearkwList=\"clearkwList\" @setListByKw=\"setListByMap\"\r\n\t\t @doSearch=\"doSearch\" :searchStatus=\"searchStatus\" @oneRow=\"oneRow\"></aSearchList>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport aSearchList from '@/components/ay-search/ay-search-list.vue';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsearchStatus:'',\r\n\t\t\t\tdefaultKw: '请输入您想查询的物品',\r\n\t\t\t\tsearchKw: '',\r\n\t\t\t\tkw: \"\",\r\n\t\t\t\tkwList: [],\r\n\t\t\t\thotKwList: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\t//引用组件\r\n\t\t\taSearchList\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tuni.request({\r\n\t\t\t\turl: 'https://api.tianapi.com/txapi/hotlajifenlei/index',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tkey: 'aae39f356173319d81b0ed08d5bb093e'\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tlet hklist = res.data.newslist\r\n\t\t\t\t\tfor (let i = 0; i < 20; i++) {\r\n\t\t\t\t\t\tthis.hotKwList.push({\r\n\t\t\t\t\t\t\t'kw': hklist[i].name\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(this.hotKwList)\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tclearkwList() {\r\n\t\t\t\tthis.kwList = [];\r\n\t\t\t},\r\n\t\t\tsetListByMap(kw) {\r\n\t\t\t\tthis.searchStatus='loading'\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'searchList',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tname: kw\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.kwList = []\r\n\t\t\t\t\tlet maxNum = res.result.data.length\r\n\t\t\t\t\tfor (let i = 0; i < maxNum; i++) {\r\n\t\t\t\t\t\tlet str1 = res.result.data[i].name\r\n\t\t\t\t\t\tlet str2 = res.result.data[i].category\r\n\t\t\t\t\t\tthis.kwList.push({\r\n\t\t\t\t\t\t\t'kw': str1,\r\n\t\t\t\t\t\t\t'type': str2\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(this.kwList)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(this.kwList.length==0){\r\n\t\t\t\t\t\tthis.searchStatus='nomore'\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//对不是上海的城市的kwlist再做过滤\r\n\t\t\t\t\tlet trashType=uni.getStorageSync('trashType');\r\n\t\t\t\t\tif(trashType && trashType !='湿垃圾'){\r\n\t\t\t\t\t\tconsole.log('非上海')\r\n\t\t\t\t\t\tlet newList=this.kwList\r\n\t\t\t\t\t\tfor(let key in newList){\r\n\t\t\t\t\t\t\tif(newList[key].type=='湿垃圾'){\r\n\t\t\t\t\t\t\t\tnewList[key].type=trashType\r\n\t\t\t\t\t\t\t}else if(newList[key].type=='干垃圾'){\r\n\t\t\t\t\t\t\t\tnewList[key].type='其他垃圾'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.kwList=newList\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdoSearch(item) {\r\n\t\t\t\tlet kw = item.kw;\r\n\t\t\t\tthis.kw = item.kw;\r\n\t\t\t\tthis.setListByMap(item.kw)\r\n\t\t\t},\r\n\t\t\toneRow(item){\r\n\t\t\t\tthis.kwList=[{kw:item.kw,type:item.type}]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}